<!--
    Title: EMS
    Author: Travis Rosen
    Date: 4/25/2021
    Description: Index Page
-->
<!DOCTYPE html>

<html lang="en">

<!-- Include header. -->
<%- include('header'); -%>

<body>
    <!-- Include navbar. -->
    <%- include('navbar'); -%>
    <div role="main" class="container">
        <br/><br/>
    
        <% if (employees.length) { %>
            <h2>‐‐ Employee Listing ‐‐</h2><br />
            <!-- Add new link to add new employee. -->
            <a href="/new">Add New</a>
            <!-- Create table to show current employees. -->
            <table class="table table‐hover">
                <thead class="thead‐dark">
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Functions</th>
                    </tr>
                </thead>
                <tbody>
                    <% employees.forEach(function (entry) { %>
                    <tr>
                        <td><%= entry.firstName %></td>
                        <td><%= entry.lastName %></td>
                        <td><a href="/view/<%= entry.firstName %>">VIEW</a></td>
                    </tr>
                    <% }) %>
                </tbody>                
            </table>
        <!-- No entries, go to add new page. -->
        <% } else { %>
            No entries! <a href="/new">Add one!</a>
        <% } %>
    
        <br/>
    
        
</body>
</html>